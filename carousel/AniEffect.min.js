function toOffset(a){switch(a){case"left":var b="offsetLeft";break;case"top":var b="offsetTop";break;case"width":var b="offsetWidth";break;case"height":var b="offsetHeight";break;default:throw new Error("\u4e0d\u652f\u6301\u6b64\u65b9\u5411\u7684\u52a8\u753b\u6548\u679c\uff01")}return b}function animate(a,b,c,d,e){function r(){if(window.clearTimeout(a.timer),h>p&&j.length){p+=q,p/h>=1&&(p=h);for(var b in i)if("opacity"==b){var c=g(p,parseFloat(i[b]),parseFloat(j[b]),h);a.style[b]=c,a.style.filter="alpha(opacity="+100*c+")"}else a.style[b]=g(p,i[b],j[b],h)+"px";a.timer=window.setTimeout(r,q)}else a.timer=null,e&&e.call(a)}if(!a||1!=a.nodeType)throw new Error("\u7b2c\u4e00\u4e2a\u53c2\u6570ele\u9519\u8bef\uff01");if("object"!=typeof b)throw new Error("\u53c2\u6570obj\u9519\u8bef\uff01");var f=/^\d+$/;if(f.test(c));else{if("undefined"!=typeof c)throw new Error("\u7b2c\u4e09\u4e2a\u53c2\u6570nDuration\u9519\u8bef\uff01");c=700}if(d){if("number"==typeof d)switch(d){case 1:var g=AniEffect.zfLinear;break;case 2:var g=AniEffect.Quart.easeInOut;break;case 3:var g=AniEffect.Elastic.easeOut;break;case 4:var g=AniEffect.zfBounce.easeOut;break;default:throw new Error("\u76ee\u524d\u4e0d\u652f\u6301\u6b64\u6570\u5b57\u7c7b\u578b\u7684\u8fd0\u52a8\u6548\u679c\uff01")}else if(d instanceof Array)if("zfLinear"==d[0])var g=AniEffect.zfLinear;else var g=AniEffect[d[0]][d[1]];else if("function"==typeof d){var g=AniEffect.zfLinear;e=d}}else var g=AniEffect.zfLinear;var h=c,i={},j={};j.length=0;for(var k in b){if("opacity"==k){if(b.opacity>1||b.opacity<0)throw new Error("opacity\u7684\u503c\u8d85\u8fc7\u8303\u56f4\uff01");if(a.currentStyle)var l=a.currentStyle.opacity;else var l=window.getComputedStyle(a,null).opacity;"undefined"!=typeof l?(a.style.opacity=l,a.style.filter="alpha(opacity="+100*l+")"):(a.style.opacity=1,a.style.filter="alpha(opacity=100)");var m=a.style.opacity,n=b.opacity-m}else var o=toOffset(k),m=a[o],n=b[k]-m;n&&(j[k]=n,i[k]=m,j.length++)}var p=0;if(document.all)var q=15;else var q=13;r()}var AniEffect={zfLinear:function(a,b,c,d){return c*a/d+b},Quad:{easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b}},Cubic:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b}},Quart:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOut:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b}},Quint:{easeIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b}},Sine:{easeIn:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOut:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOut:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b}},Expo:{easeIn:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},easeOut:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOut:function(a,b,c,d){return 0==a?b:a==d?b+c:(a/=d/2)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b}},Circ:{easeIn:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOut:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOut:function(a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b}},Elastic:{easeIn:function(a,b,c,d,e,f){if(0==a)return b;if(1==(a/=d))return b+c;if(f||(f=.3*d),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return-(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f))+b},easeOut:function(a,b,c,d,e,f){if(0==a)return b;if(1==(a/=d))return b+c;if(f||(f=.3*d),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return e*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/f)+c+b},easeInOut:function(a,b,c,d,e,f){if(0==a)return b;if(2==(a/=d/2))return b+c;if(f||(f=d*.3*1.5),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return 1>a?-.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+b:.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+c+b}},Back:{easeIn:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},easeOut:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},easeInOut:function(a,b,c,d,e){return void 0==e&&(e=1.70158),(a/=d/2)<1?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b}},zfBounce:{easeIn:function(a,b,c,d){return c-AniEffect.zfBounce.easeOut(d-a,0,c,d)+b},easeOut:function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},easeInOut:function(a,b,c,d){return d/2>a?.5*AniEffect.zfBounce.easeIn(2*a,0,c,d)+b:.5*AniEffect.zfBounce.easeOut(2*a-d,0,c,d)+.5*c+b}}};